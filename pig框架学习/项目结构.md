# php pig框架目录
<!-- TOC -->

- [php pig框架目录](#php-pig框架目录)
  - [App 文件夹](#app-文件夹)
    - [Crontab 定时任务](#crontab-定时任务)
    - [HttpController 控制器](#httpcontroller-控制器)
    - [HttpService 服务](#httpservice-服务)
  - [Log 日志](#log-日志)
  - [Sdk](#sdk)
  - [Temp](#temp)
  - [tests](#tests)
  - [vendor](#vendor)
  - [.gitignore](#gitignore)
  - [bootstrap.php](#bootstrapphp)
  - [composer.lock](#composerlock)
  - [dev.php](#devphp)
  - [Dockerfile](#dockerfile)
  - [EasySwooleEvent.php](#easyswooleeventphp)
  - [phpunit.php](#phpunitphp)
  - [produce.php](#producephp)
  - [README.md](#readmemd)
  - [reload.sh](#reloadsh)
  - [start.sh](#startsh)
  - [stop.sh](#stopsh)

<!-- /TOC -->

---
## App 文件夹
### Crontab 定时任务

1. 创建定时任务
```php
   class CronTaskTest extends AbstractCronTask 
   {
     // 定义执行间隔
     public static function getRule(): string
     {
       return '@hourly';
     }
     // 定义任务名称
     public static function getTaskName(): string
     {
       return 'taskName'
     }
     // 编辑任务逻辑
     static function run(\swoole_server $server, int $taskId, int $fromWorkerId, $flags = null)
     {
       var_dump('run once per hour');
     }
   }
```

### HttpController 控制器   

```php
object(EasySwoole\Http\Request)#51 (13) {
  ["request":"EasySwoole\Http\Request":private]=>
  object(Swoole\Http\Request)#74 (9) {
    ["fd"]=>
    int(1)
    ["streamId"]=>
    int(0)
    ["header"]=>
    array(9) {
      ["host"]=>
      string(14) "127.0.0.1:9502"
      ["connection"]=>
      string(10) "keep-alive"
      ["cross-request-open-sign"]=>
      string(1) "1"
      ["user-agent"]=>
      string(120) "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"
      ["accept"]=>
      string(3) "*/*"
      ["sec-fetch-site"]=>
      string(10) "cross-site"
      ["sec-fetch-mode"]=>
      string(4) "cors"
      ["accept-encoding"]=>
      string(17) "gzip, deflate, br"
      ["accept-language"]=>
      string(35) "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7"
    }
    ["server"]=>
    array(11) {
      ["query_string"]=>
      string(38) "code=dsadsdsadsa&device_code=dsadsadsa"
      ["request_method"]=>
      string(3) "GET"
      ["request_uri"]=>
      string(12) "/api/v1/auth"
      ["path_info"]=>
      string(12) "/api/v1/auth"
      ["request_time"]=>
      int(1578675093)
      ["request_time_float"]=>
      float(1578675093.1853)
      ["server_protocol"]=>
      string(8) "HTTP/1.1"
      ["server_port"]=>
      int(9501)
      ["remote_port"]=>
      int(55214)
      ["remote_addr"]=>
      string(10) "172.17.0.1"
      ["master_time"]=>
      int(1578675092)
    }
    ["cookie"]=>
    array(1) {
      ["_ga"]=>
      string(26) "GA1.1.906824739.1577438420"
    }
    ["get"]=>
    array(2) {
      ["code"]=>
      string(11) "dsadsdsadsa"
      ["device_code"]=>
      string(9) "dsadsadsa"
    }
    ["files"]=>
    NULL
    ["post"]=>
    NULL
    ["tmpfiles"]=>
    NULL
  }
  ["attributes":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(0) {
  }
  ["cookieParams":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(1) {
    ["_ga"]=>
    string(26) "GA1.1.906824739.1577438420"
  }
  ["parsedBody":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(0) {
  }
  ["queryParams":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(2) {
    ["code"]=>
    string(11) "dsadsdsadsa"
    ["device_code"]=>
    string(9) "dsadsadsa"
  }
  ["serverParams":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(11) {
    ["query_string"]=>
    string(38) "code=dsadsdsadsa&device_code=dsadsadsa"
    ["request_method"]=>
    string(3) "GET"
    ["request_uri"]=>
    string(12) "/api/v1/auth"
    ["path_info"]=>
    string(12) "/api/v1/auth"
    ["request_time"]=>
    int(1578675093)
    ["request_time_float"]=>
    float(1578675093.1853)
    ["server_protocol"]=>
    string(8) "HTTP/1.1"
    ["server_port"]=>
    int(9501)
    ["remote_port"]=>
    int(55214)
    ["remote_addr"]=>
    string(10) "172.17.0.1"
    ["master_time"]=>
    int(1578675092)
  }
  ["uploadedFiles":"EasySwoole\Http\Message\ServerRequest":private]=>
  array(0) {
  }
  ["uri":"EasySwoole\Http\Message\Request":private]=>
  object(EasySwoole\Http\Message\Uri)#68 (7) {
    ["host":"EasySwoole\Http\Message\Uri":private]=>
    string(9) "127.0.0.1"
    ["userInfo":"EasySwoole\Http\Message\Uri":private]=>
    NULL
    ["port":"EasySwoole\Http\Message\Uri":private]=>
    string(4) "9502"
    ["path":"EasySwoole\Http\Message\Uri":private]=>
    string(36) "/Api/LotteryController/userAuthorize"
    ["query":"EasySwoole\Http\Message\Uri":private]=>
    string(38) "code=dsadsdsadsa&device_code=dsadsadsa"
    ["fragment":"EasySwoole\Http\Message\Uri":private]=>
    NULL
    ["scheme":"EasySwoole\Http\Message\Uri":private]=>
    string(4) "http"
  }
  ["method":"EasySwoole\Http\Message\Request":private]=>
  string(3) "GET"
  ["target":"EasySwoole\Http\Message\Request":private]=>
  NULL
  ["protocolVersion":"EasySwoole\Http\Message\Message":private]=>
  string(3) "1.1"
  ["headers":"EasySwoole\Http\Message\Message":private]=>
  array(9) {
    ["host"]=>
    array(1) {
      [0]=>
      string(14) "127.0.0.1:9502"
    }
    ["connection"]=>
    array(1) {
      [0]=>
      string(10) "keep-alive"
    }
    ["cross-request-open-sign"]=>
    array(1) {
      [0]=>
      string(1) "1"
    }
    ["user-agent"]=>
    array(1) {
      [0]=>
      string(120) "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"
    }
    ["accept"]=>
    array(1) {
      [0]=>
      string(3) "*/*"
    }
    ["sec-fetch-site"]=>
    array(1) {
      [0]=>
      string(10) "cross-site"
    }
    ["sec-fetch-mode"]=>
    array(1) {
      [0]=>
      string(4) "cors"
    }
    ["accept-encoding"]=>
    array(1) {
      [0]=>
      string(17) "gzip, deflate, br"
    }
    ["accept-language"]=>
    array(1) {
      [0]=>
      string(35) "zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7"
    }
  }
  ["body":"EasySwoole\Http\Message\Message":private]=>
  object(EasySwoole\Http\Message\Stream)#62 (6) {
    ["stream":"EasySwoole\Spl\SplStream":private]=>
    resource(181) of type (stream)
    ["seekable":"EasySwoole\Spl\SplStream":private]=>
    bool(true)
    ["readable":"EasySwoole\Spl\SplStream":private]=>
    bool(true)
    ["writable":"EasySwoole\Spl\SplStream":private]=>
    bool(true)
    ["readList":"EasySwoole\Spl\SplStream":private]=>
    array(16) {
      ["r"]=>
      bool(true)
      ["w+"]=>
      bool(true)
      ["r+"]=>
      bool(true)
      ["x+"]=>
      bool(true)
      ["c+"]=>
      bool(true)
      ["rb"]=>
      bool(true)
      ["w+b"]=>
      bool(true)
      ["r+b"]=>
      bool(true)
      ["x+b"]=>
      bool(true)
      ["c+b"]=>
      bool(true)
      ["rt"]=>
      bool(true)
      ["w+t"]=>
      bool(true)
      ["r+t"]=>
      bool(true)
      ["x+t"]=>
      bool(true)
      ["c+t"]=>
      bool(true)
      ["a+"]=>
      bool(true)
    }
    ["writeList":"EasySwoole\Spl\SplStream":private]=>
    array(17) {
      ["w"]=>
      bool(true)
      ["w+"]=>
      bool(true)
      ["rw"]=>
      bool(true)
      ["r+"]=>
      bool(true)
      ["x+"]=>
      bool(true)
      ["c+"]=>
      bool(true)
      ["wb"]=>
      bool(true)
      ["w+b"]=>
      bool(true)
      ["r+b"]=>
      bool(true)
      ["x+b"]=>
      bool(true)
      ["c+b"]=>
      bool(true)
      ["w+t"]=>
      bool(true)
      ["r+t"]=>
      bool(true)
      ["x+t"]=>
      bool(true)
      ["c+t"]=>
      bool(true)
      ["a"]=>
      bool(true)
      ["a+"]=>
      bool(true)
    }
  }
}

```
request 方法：
1. getRequestParam
2. getSwooleRequest
3. getCookieParams
4. getUploadedFiles
5. getBody
6. getQueryParams
7. getParsedBody
8. 
### HttpService 服务
dsadsa

---
## Log 日志
---
## Sdk
---
## Temp
---
## tests
---
## vendor
---
## .gitignore
---
## bootstrap.php
---
## composer.lock
---
## dev.php
---
## Dockerfile
---
## EasySwooleEvent.php
---
## phpunit.php
---
## produce.php
---
## README.md
---
## reload.sh
---
## start.sh
---
## stop.sh























